<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="The prototype website of web framework">
  <meta name="author" content="LY">
  <title>天玑大数据分析系统</title>
  <link rel="shortcut icon" href="assets/self-owned/ico/favicon.png">


  <!-- reference CSS-->
  <link rel="stylesheet" type="text/css" href="assets/reference/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="assets/reference/font-awesome/css/font-awesome.min.css">

  <!-- table 组件专用[BEGIN]-->
  <link rel="stylesheet" type="text/css" href="assets/reference/bootstrap-switch/bootstrap-switch.min.css">
  <link rel="stylesheet" type="text/css" href="assets/reference/checkbox3/checkbox3.min.css">
  <link rel="stylesheet" type="text/css" href="assets/reference/jquery-datatable/css/jquery.dataTables.min.css">
  <link rel="stylesheet" type="text/css" href="assets/reference/bootstrp-datatable/dataTables.bootstrap.css">
  <link rel="stylesheet" type="text/css" href="assets/reference/select2/select2.min.css">

  <!-- self-owned CSS-->
  <link rel="stylesheet" type="text/css" href="assets/self-owned/css/style.css">
  <link rel="stylesheet" type="text/css" href="assets/self-owned/css/themes/flat-blue.css">



</head>

<body class="flat-blue">
  <div class="app-container">
    <div class="row content-container">

      <!-- 应用顶部NAV导航，在prototype.js初始化时加载，默认为assets/html/header.html-->
      <div id="navDIV"></div>

      <div class="container-fluid">
        <div class="side-body padding-top">

          <!-- 应用具体内容DIV-->
          <div id="contentDIV">
            <div class="row">
              <!-- 文件列表区域 -->
              <div class="col-xs-12">
                <div class="card card-success">
                  <div class="card-header">
                    <div class="card-title">
                      <div class="title"><i class="fa fa-table"></i> Table dynamic load data example</div>
                    </div>
                    <div class="pull-right card-action">
                      <div class="btn-group" role="group">
                        <button type="button" class="btn btn-link" title="隐藏" onclick="viewModel.retrieveData();">
                          <div class="title"><i class="fa fa-refresh fa-2x"></i></div>
                        </button>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <table class="datatable table table-striped" cellspacing="0" width="100%">
                      <thead>
                        <tr>
                          <th>name</th>
                          <th>sex</th>
                          <th>hobby</th>
                        </tr>
                      </thead>
                      <tfoot>
                        <tr>
                          <th>name</th>
                          <th>sex</th>
                          <th>hobby</th>
                        </tr>
                      </tfoot>
                      <tbody data-bind="foreach:result">
                        <tr>
                          <td data-bind="text:name"></td>
                          <td data-bind="text:sex"></td>
                          <td data-bind="text:hobby"></td>
                        </tr>
                        <!-- <tr>
                          <td>liqi</td>
                          <td>M</td>
                          <td>movie</td>
                        </tr>
                        <tr>
                          <td>zoudan</td>
                          <td>M</td>
                          <td>travel</td>
                        </tr>
                        <tr>
                          <td>xiangyue</td>
                          <td>F</td>
                          <td>reading</td>
                        </tr> -->
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>









  <!-- Javascript -->
  <script src="assets/reference/jquery/jquery-1.11.1.min.js"></script>
  <script src="assets/reference/bootstrap/js/bootstrap.min.js"></script>


  <!-- table 组件专用[BEGIN]-->
  <script src="assets/reference/bootstrap-switch/bootstrap-switch.min.js"></script>
  <script src="assets/reference/jquery/jquery.matchHeight-min.js"></script>
  <script src="assets/reference/jquery-datatable/js/jquery.dataTables.min.js"></script>
  <script src="assets/reference/bootstrp-datatable/dataTables.bootstrap.min.js"></script>
  <script src="assets/reference/select2/select2.full.min.js"></script>
  <script src="assets/self-owned/js/app.js"></script>
  <!-- table 组件专用[END]-->

  <script src="assets/self-owned/js/self-talbe.js"></script>

  <script src="assets/reference/knockout.js/knockout-3.3.0.js"></script>
  <script src="assets/reference/jquery-tiny-pubsub/tiny-pubsub.js"></script>


  <script>
    $(document).ready(function() {});
  </script>

  <!-- Using knockout for MVVM injection-->
  <script>
    var tmpData1 = [{'name':'yangliu','sex':'M','hobby':'sports'}];
    var tmpData2 = [{'name':'liqi','sex':'M','hobby':'game'}];
    var tmpData3 = [{'name':'zoudan','sex':'M','hobby':'movie'}];
    var tmpData4 = [{'name':'linxiangyue','sex':'F','hobby':'reading'},{'name':'zoudan','sex':'M','hobby':'movie'}];
    var tmp=1;

    var viewModel = {
      result: ko.observableArray(),


      retrieveData: function() {
        console.log(tmp);
        var data= null;
        if(tmp==1){
          data=tmpData2;
          tmp++;
        }else if(tmp==2){
          data=tmpData3;
          tmp++;
        }else if(tmp==3){
          data=tmpData4;
          tmp++;
        }else if(tmp==4){
          data=tmpData1;
          tmp=1;
        }



        viewModel.result(data);
        // viewModel.result.removeAll();
        // $.each(data, function(idx, val) {
        //     viewModel.result.push(val);
        // });
      }
    };
    ko.applyBindings(viewModel, document.getElementById('contentDIV'));
  </script>

</body>

</html>
