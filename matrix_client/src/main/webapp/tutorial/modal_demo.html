<div id="genericModalDiv">

  <!--RESULT DISPLAY DIV BEGIN-->
  <div id="resultDIV" data-bind="visible: hasResult,css: styleClass" class="alert fresh-color">
    <strong>
      <span data-bind="text:resultTitle"></span>
    </strong>
    <span data-bind="text:resultSubTitle"></span>
    <div data-bind="text:resultContent"></div>
  </div>
  <!--RESULT DISPLAY DIV END-->

  <!--CONTENT DIV BEGIN-->
  <div id="modal_content_div">
    <div class="card card-success">
      <div class="card profile">
        <div class="card-body">
          <!--Validation DIV BEGIN-->
          <div data-bind="visible: hasError" class="alert alert-warning alert-dismissible fresh-color" role="alert">
            <button type="button" data-bind="click:function(){hasError(!hasError)}" class="close" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
            <strong>Warning!</strong>
            <div id="errorMessagesDIV" data-bind="foreach:errorMessage">
              <div data-bind="text:$data"></div>
            </div>
          </div>
          <!--Validation DIV END-->
          <!-- *******YOUR SHOULD CODING IN HERE:[BEGIN]*******-->
          <div data-bind="if:businessPOJO()">


            <div class="step">
              <ul class="nav nav-tabs nav-justified" role="tablist">
                <li role="step" class="active">
                  <a href="#step1" id="step1-tab" role="tab" data-toggle="tab" aria-controls="home" aria-expanded="true">
                    <div class="icon fa fa-database"></div>
                    <div class="step-title">
                      <div class="title">Step 1</div>
                      <div class="description">Data Source Setting</div>
                    </div>
                  </a>
                </li>
                <li role="step">
                  <a href="#step2" role="tab" id="step2-tab" data-toggle="tab" aria-controls="profile">
                    <div class="icon fa fa-stethoscope"></div>
                    <div class="step-title">
                      <div class="title">Step 2</div>
                      <div class="description">Filter Condition Setting </div>
                    </div>
                  </a>
                </li>
                <li role="step">
                  <a href="#step3" role="tab" id="step3-tab" data-toggle="tab" aria-controls="profile">
                    <div class="icon fa fa-edit"></div>
                    <div class="step-title">
                      <div class="title">Step 3</div>
                      <div class="description">Analyzing Result Setting </div>
                    </div>
                  </a>
                </li>
                <li role="step">
                  <a href="#step4" role="tab" id="step4-tab" data-toggle="tab" aria-controls="profile">
                    <div class="icon fa fa-checkered"></div>
                    <div class="step-title">
                      <div class="title">Step 4</div>
                      <div class="description">Script Generation </div>
                    </div>
                  </a>
                </li>
              </ul>

              <div class="tab-content" data-bind="if:businessPOJO()">
                <div role="tabpanel" class="tab-pane fade in active" id="step1" aria-labelledby="home-tab">
                  <div class="card card-info">
                    <div class="card-header">
                      <div class="card-title">
                        <div class="title"><i class="fa fa-cogs"></i> Data Source Setting
                        </div>
                      </div>
                    </div>
                    <div class="card profile">
                      <div class="card-body">



                        <div>
                          <form class="form-horizontal">
                            <div class="form-group">
                              <label for="DBName" class="col-sm-2 control-label">Metadata List</label>
                              <div class="col-sm-10">
                                <select data-bind="options: businessPOJO().availableMetadatas,
                                  optionsText: function(item) {return '12345'},
                                  value: businessPOJO().selectedMetadata,
                                  optionsCaption: 'Choose...'" class="form-control" style="width:360px">
                                </select>
                              </div>
                              <div class="col-sm-10 col-sm-offset-2" style="padding-top:6px">
                                <div class="alert alert-warning fresh-color" role="alert" style="margin-bottom: -26px;">Warning: Edit metadata information first when no satisfied item from the available list.</div>
                              </div>
                            </div>
                          </form>
                        </div>
                        <br>
                        <div class="row" data-bind="visible: true">
                          <div class="col-md-12">
                            <div class="card blue summary-inline">
                              <div class="card-body">
                                <i class="icon fa fa-info-circle fa-1x"> &nbsp;<strong>Information</strong></i>
                              </div>
                              <div class="row text-center" style="font-size:28px">
                                <div class="col-md-12">
                                  <i class="fa fa-bullhorn fa-1x"></i> <span id="infoMessage">Currently no metadata selected, please select one first ...</span>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>

                        <div class="panel fresh-color panel-info">
                          <div class="panel-heading">Metadata Mapped Hive Table List</div>
                          <div class="panel-body">
                            <div class="row">
                              <div class="col-md-12" style="overflow: auto">
                                <form class="navbar-form navbar-right" role="search">
                                  <div class="form-group">
                                    <input data-bind="value:genericModalViewModel.businessPOJO().tables.searchKeyword" class="form-control" placeholder="输入关键字" type="text">
                                  </div>
                                  <button data-bind="click:function(){genericModalViewModel.businessPOJO().tables.buildView()}" type="submit" class="btn btn-info">搜索</button>
                                </form>
                                <table class="table table-striped sortable" cellspacing="0" width="100%">
                                  <thead>
                                    <tr>
                                      <th>select</th>
                                      <th>table</th>
                                      <th>metadata </th>
                                    </tr>
                                  </thead>
                                  <tbody data-bind="foreach: genericModalViewModel.businessPOJO().tables.viewData">
                                    <!-- <tr data-bind="visible:isDisplay,foreach: data">
                                      <td data-bind="text: $data"></td>
                                    </tr> -->
                                    <tr>
                                      <td>
                                        <input type="checkbox" data-bind="checked: isChecked" />
                                      </td>
                                      <td data-bind="text: data[1]"></td>
                                      <td data-bind="text: data[2]"></td>
                                    </tr>
                                  </tbody>
                                </table>
                              </div>
                            </div>
                            <div id="pagingDIV">
                              <nav>
                                <ul class="pager">
                                  <span class="pull-left">Total Size:
                                        <span data-bind="text:genericModalViewModel.businessPOJO().tables.totalCounts()"></span>
                                  </span>
                                  <span class="pull-right">
                                        <select class="form-control" style="width:88px" data-bind="options:genericModalViewModel.businessPOJO().tables.pagingSizeArray,value:genericModalViewModel.businessPOJO().tables.pageMaxSize"></select>
                                      </span>
                                  <li><a data-bind="click:function(){genericModalViewModel.businessPOJO().tables.toPage(1)}" href="#">首页</a></li>
                                  <li><a data-bind="click:function(){genericModalViewModel.businessPOJO().tables.toPage(genericModalViewModel.businessPOJO().tables.currentPageNumber()-1)}" href="#">前翻</a></li>
                                  <li>
                                    <input data-bind="value:genericModalViewModel.businessPOJO().tables.currentPageNumber" style="width:38px" ;type="text" class="text-center">
                                  </li>
                                  <li><a data-bind="click:function(){genericModalViewModel.businessPOJO().tables.toPage(genericModalViewModel.businessPOJO().tables.currentPageNumber()+1)}" href="#">后翻</a></li>
                                  <li><a data-bind="click:function(){genericModalViewModel.businessPOJO().tables.toPage(genericModalViewModel.businessPOJO().tables.totalPage())}" href="#">末页</a></li>
                                </ul>
                              </nav>
                            </div>
                          </div>
                        </div>

                      </div>
                    </div>
                  </div>
                </div>
                <div role="tabpanel" class="tab-pane fade" id="step2" aria-labelledby="profile-tab">
                  <div class="card card-info">
                    <div class="card-header">
                      <div class="card-title">
                        <div class="title"><i class="fa fa-cogs"></i> Filter Condition Setting </div>
                      </div>
                      <div class="pull-right card-action">
                        <div class="btn-group" role="group" aria-label="..." id="hideFilesDIV">
                          <button type="button" class="btn btn-link" title="隐藏" onclick="$('#atomicsContentDIV').css('display', 'none'),$('#displayFilesDIV').css('display', ''),$('#hideFilesDIV').css('display', 'none')">
                            <div class="title"><i class="fa fa-sort-up fa-2x"></i></div>
                          </button>
                        </div>
                        <div class="btn-group" role="group" aria-label="..." id="displayFilesDIV" style="display:none">
                          <button type="button" class="btn btn-link" title="显示" onclick="$('#atomicsContentDIV').css('display', ''),$('#hideFilesDIV').css('display', ''),$('#displayFilesDIV').css('display', 'none')">
                            <div class="title"><i class="fa fa-sort-down fa-2x"></i></div>
                          </button>
                        </div>
                      </div>
                    </div>

                    <div class="card profile" id="atomicsContentDIV">
                      <div class="card-body">


                        <div class="panel fresh-color panel-info">
                          <div class="panel-heading">Metadata Atomics List</div>
                          <div class="panel-body">
                            <div class="row">
                              <div class="col-md-12" style="overflow: auto">
                                <form class="navbar-form navbar-right" role="search">
                                  <div class="form-group">
                                    <input data-bind="value:genericModalViewModel.businessPOJO().atomics.searchKeyword" class="form-control" placeholder="输入关键字" type="text">
                                  </div>
                                  <button data-bind="click:function(){genericModalViewModel.businessPOJO().atomics.buildView()}" type="submit" class="btn btn-info">搜索</button>
                                </form>
                                <table class="table table-striped sortable" cellspacing="0" width="100%">
                                  <thead>
                                    <tr>
                                      <th>table</th>
                                      <th>metadata </th>
                                      <th>action</th>
                                    </tr>
                                  </thead>
                                  <tbody data-bind="foreach: genericModalViewModel.businessPOJO().atomics.viewData">
                                    <tr>
                                      <td data-bind="text: data[1]"></td>
                                      <td data-bind="text: data[2]"></td>
                                      <td>
                                        <button type="button" class="btn btn-link" title="As Time Scope" data-bind="click:(function(){})" style="margin:-6px -6px -6px -6px">
                                          <div class="title"><i class="fa fa-calendar fa-1x"></i></div>
                                        </button>
                                        <button type="button" class="btn btn-link" title="As Business Condition" data-bind="click:(function(){})" style="margin:-6px -6px -6px -6px">
                                          <div class="title"><i class="fa fa-filter fa-1x"></i></div>
                                        </button>
                                        <button type="button" class="btn btn-link" title="As Noise" data-bind="click:(function(){})" style="margin:-6px -6px -6px -6px">
                                          <div class="title"><i class="fa fa-eraser fa-1x"></i></div>
                                        </button>
                                      </td>
                                    </tr>
                                  </tbody>
                                </table>
                              </div>
                            </div>
                            <div id="pagingDIV">
                              <nav>
                                <ul class="pager">
                                  <span class="pull-left">Total Size:
                                        <span data-bind="text:genericModalViewModel.businessPOJO().atomics.totalCounts()"></span>
                                  </span>
                                  <span class="pull-right">
                                        <select class="form-control" style="width:88px" data-bind="options:genericModalViewModel.businessPOJO().atomics.pagingSizeArray,value:genericModalViewModel.businessPOJO().atomics.pageMaxSize"></select>
                                      </span>
                                  <li><a data-bind="click:function(){genericModalViewModel.businessPOJO().atomics.toPage(1)}" href="#">首页</a></li>
                                  <li><a data-bind="click:function(){genericModalViewModel.businessPOJO().atomics.toPage(genericModalViewModel.businessPOJO().atomics.currentPageNumber()-1)}" href="#">前翻</a></li>
                                  <li>
                                    <input data-bind="value:genericModalViewModel.businessPOJO().atomics.currentPageNumber" style="width:38px" ;type="text" class="text-center">
                                  </li>
                                  <li><a data-bind="click:function(){genericModalViewModel.businessPOJO().atomics.toPage(genericModalViewModel.businessPOJO().atomics.currentPageNumber()+1)}" href="#">后翻</a></li>
                                  <li><a data-bind="click:function(){genericModalViewModel.businessPOJO().atomics.toPage(genericModalViewModel.businessPOJO().atomics.totalPage())}" href="#">末页</a></li>
                                </ul>
                              </nav>
                            </div>
                          </div>
                        </div>

                      </div>
                    </div>
                  </div>

                  <div class="card card-info">
                    <div class="card-header">
                      <div class="card-title">
                        <div class="title"><i class="fa fa-cogs"></i> Time Scope Editing </div>
                      </div>
                      <div class="pull-right card-action">
                        <div class="btn-group" role="group" aria-label="..." id="hideAtomicsTimeDIV" style="display:none">
                          <button type="button" class="btn btn-link" title="隐藏" onclick="$('#atomicsTimeContentDIV').css('display', 'none'),$('#displayAtomicsTimeDIV').css('display', ''),$('#hideAtomicsTimeDIV').css('display', 'none')">
                            <div class="title"><i class="fa fa-sort-up fa-2x"></i></div>
                          </button>
                        </div>
                        <div class="btn-group" role="group" aria-label="..." id="displayAtomicsTimeDIV">
                          <button type="button" class="btn btn-link" title="显示" onclick="$('#atomicsTimeContentDIV').css('display', ''),$('#hideAtomicsTimeDIV').css('display', ''),$('#displayAtomicsTimeDIV').css('display', 'none')">
                            <div class="title"><i class="fa fa-sort-down fa-2x"></i></div>
                          </button>
                        </div>
                      </div>
                    </div>
                    <div class="card profile" id="atomicsTimeContentDIV" style="display:none">
                      <div class="card-body">
                        <div class="panel fresh-color panel-primary">
                          <div class="panel-heading">Time Scope Editing Panel</div>
                          <div class="panel-body">
                            <form class="form-inline">
                              <label class="col-sm-1 control-label">Atomic:</label>
                              <div class="col-sm-11">
                                <label> Atomic_Name </label>
                              </div>
                            </form>
                            <form class="form-inline">
                              <div class="col-sm-12">
                                <label>Date:</label>
                                <div class="input-group date form_date " data-date="" data-date-format="yyyy-mm-dd" data-link-field="dtp_input2" data-link-format="yyyy-mm-dd">
                                  <input class="form-control" size="16" type="text" id="searchBegin" value="" readonly>
                                  <span class="input-group-addon">
                                          <span class="glyphicon glyphicon-calendar"></span>
                                  </span>
                                </div>
                                <label> &nbsp;to&nbsp; </label>
                                <div class="input-group date form_date " data-date="" data-date-format="yyyy-mm-dd" data-link-field="dtp_input2" data-link-format="yyyy-mm-dd">
                                  <input class="form-control" size="16" type="text" id="searchEnd" value="" readonly>
                                  <span class="input-group-addon">
                                          <span class="glyphicon glyphicon-calendar"></span>
                                  </span>
                                </div>
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                <label>Time:</label>
                                <div class="form-group">
                                  <input type="tel" class="form-control hour" id="fromHour" placeholder="0" style="width:40px">
                                </div>
                                <label> &nbsp;to&nbsp; </label>
                                <div class="form-group">
                                  <input type="tel" class="form-control hour" id="toHour" placeholder="24" style="width:40px">
                                </div>
                                <button type="button" class="btn btn-link" title="Add" onclick="">
                                  <div class="title"><i class="fa fa-check fa-2x"></i></div>
                                </button>
                              </div>
                            </form>
                          </div>
                        </div>
                        <div class="panel fresh-color panel-info">
                          <div class="panel-heading">Time Scope Editing List</div>
                          <div class="panel-body">
                            <table class="table table-striped sortable" cellspacing="0" width="100%">
                              <thead>
                                <tr>
                                  <th>atomic name</th>
                                  <th>date scope logic </th>
                                  <th>time scope logic </th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr>
                                  <td data-bind="text: 'atomic name'"></td>
                                  <td data-bind="text: 'from 2016-01-01 to 2017-12-31'"></td>
                                  <td data-bind="text: 'from 6:00 to 18:00'"></td>
                                </tr>
                                <tr>
                                  <td data-bind="text: 'atomic name'"></td>
                                  <td data-bind="text: 'from 2016-01-01 to 2017-12-31'"></td>
                                  <td data-bind="text: 'from 6:00 to 18:00'"></td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="card card-info">
                    <div class="card-header">
                      <div class="card-title">
                        <div class="title"><i class="fa fa-cogs"></i> Business Condition Editing </div>
                      </div>
                      <div class="pull-right card-action">
                        <div class="btn-group" role="group" aria-label="..." id="hideConditionTimeDIV" style="display:none">
                          <button type="button" class="btn btn-link" title="隐藏" onclick="$('#conditionContentDIV').css('display', 'none'),$('#displayConditionTimeDIV').css('display', ''),$('#hideConditionTimeDIV').css('display', 'none')">
                            <div class="title"><i class="fa fa-sort-up fa-2x"></i></div>
                          </button>
                        </div>
                        <div class="btn-group" role="group" aria-label="..." id="displayConditionTimeDIV">
                          <button type="button" class="btn btn-link" title="显示" onclick="$('#conditionContentDIV').css('display', ''),$('#hideConditionTimeDIV').css('display', ''),$('#displayConditionTimeDIV').css('display', 'none')">
                            <div class="title"><i class="fa fa-sort-down fa-2x"></i></div>
                          </button>
                        </div>
                      </div>
                    </div>
                    <div class="card profile" id="conditionContentDIV" style="display:none">
                      <div class="card-body">
                        <div>
                          <div class="panel fresh-color panel-primary">
                            <div class="panel-heading">Business Editing Panel</div>
                            <div class="panel-body">

                              <form class="form-inline">
                                <div class="col-sm-12">
                                  <label>Atomic:</label>
                                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                  <label> Atomic_Name </label>
                                  <button type="button" class="btn btn-link" title="switch" onclick="switch_div_display('advancedBusinessConditionDIV');switch_div_display('normalBusinessConditionDIV')">
                                    <div class="title"><i class="fa fa-refresh fa-2x"></i></div>
                                  </button>
                                </div>
                              </form>
                              <br>
                              <div id="advancedBusinessConditionDIV">
                                <div class="sub-title">Advanced Business Condition Filter
                                  <span class="description">( with <code>metadata aggregation</code> settings )</span>
                                  <button type="button" class="btn btn-link" title="Add" onclick="">
                                    <div class="title"><i class="fa fa-check fa-2x"></i></div>
                                  </button>
                                </div>
                                <div>
                                  <div class="alert fresh-color alert-warning" role="alert">
                                    <strong>Warning!</strong> Switch to normal business condition filter if this atomic did not configurate the aggregate value.
                                  </div>
                                  <div class="row">
                                    <div class="col-md-12" style="overflow: auto">
                                      <form class="navbar-form navbar-right" role="search">
                                        <div class="form-group">
                                          <input data-bind="value:genericModalViewModel.businessPOJO().tables.searchKeyword" class="form-control" placeholder="输入关键字" type="text">
                                        </div>
                                        <button data-bind="click:function(){genericModalViewModel.businessPOJO().tables.buildView()}" type="submit" class="btn btn-info">搜索</button>
                                      </form>
                                      <table class="table table-striped sortable" cellspacing="0" width="100%">
                                        <thead>
                                          <tr>
                                            <th>
                                              <input type="checkbox" data-bind="checked:genericModalViewModel.businessPOJO().tables.isSelectCurrentPage" />Current &nbsp;
                                              <input type="checkbox" data-bind="checked:genericModalViewModel.businessPOJO().tables.isSelectAllPage" />ALL
                                            </th>
                                            <th>Aggregation Value</th>
                                          </tr>
                                        </thead>
                                        <tbody data-bind="foreach: genericModalViewModel.businessPOJO().tables.viewData">
                                          <tr>
                                            <td>
                                              <input type="checkbox" data-bind="checked: isChecked" />
                                            </td>
                                            <td data-bind="text: data[1]"></td>
                                          </tr>
                                        </tbody>
                                      </table>
                                    </div>
                                  </div>
                                  <div id="pagingDIV">
                                    <nav>
                                      <ul class="pager">
                                        <span class="pull-left">Total Size:
                                              <span data-bind="text:genericModalViewModel.businessPOJO().tables.totalCounts()"></span>
                                        </span>
                                        <span class="pull-right">
                                              <select class="form-control" style="width:88px" data-bind="options:genericModalViewModel.businessPOJO().tables.pagingSizeArray,value:genericModalViewModel.businessPOJO().tables.pageMaxSize"></select>
                                            </span>
                                        <li><a data-bind="click:function(){genericModalViewModel.businessPOJO().tables.toPage(1)}" href="#">首页</a></li>
                                        <li><a data-bind="click:function(){genericModalViewModel.businessPOJO().tables.toPage(genericModalViewModel.businessPOJO().tables.currentPageNumber()-1)}" href="#">前翻</a></li>
                                        <li>
                                          <input data-bind="value:genericModalViewModel.businessPOJO().tables.currentPageNumber" style="width:38px" ;type="text" class="text-center">
                                        </li>
                                        <li><a data-bind="click:function(){genericModalViewModel.businessPOJO().tables.toPage(genericModalViewModel.businessPOJO().tables.currentPageNumber()+1)}" href="#">后翻</a></li>
                                        <li><a data-bind="click:function(){genericModalViewModel.businessPOJO().tables.toPage(genericModalViewModel.businessPOJO().tables.totalPage())}" href="#">末页</a></li>
                                      </ul>
                                    </nav>
                                  </div>
                                </div>
                              </div>
                              <div id="normalBusinessConditionDIV" style="display:none">
                                <div class="sub-title">Normal Business Condition Filter</div>
                                <form class="form-inline">
                                  <div class="col-sm-12">
                                    <label>Union Type:</label>
                                    &nbsp;&nbsp;&nbsp;
                                    <select class="form-control" style="width:180px" data-bind="options:businessPOJO().availableUnionTypes"></select>
                                    &nbsp;&nbsp;&nbsp;
                                    <label>Avaiable List:</label>
                                    &nbsp;
                                    <select class="form-control" style="width:180px" data-bind="options:businessPOJO().availableNoiseLists,value:businessPOJO().selectedNoiseList"></select>
                                    <button type="button" class="btn btn-link" title="Add" onclick="">
                                      <div class="title"><i class="fa fa-plus fa-2x"></i></div>
                                    </button>
                                  </div>
                                </form>
                                <form class="form-inline">
                                  <div class="col-sm-12">
                                  </div>
                                </form>
                                <form class="form-inline">
                                  <div class="col-sm-12">
                                    <label>Condition:</label>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                    <select class="form-control" style="width:180px" data-bind="options:businessPOJO().availableNoiseOperations,value:businessPOJO().selectedNoiseOperation,optionsCaption: 'Choose...'"></select>
                                    &nbsp;&nbsp;&nbsp;
                                    <div class="form-group">
                                      <input type="text" class="form-control hour" placeholder="please input the valid value" style="width:280px">
                                    </div>
                                    <button type="button" class="btn btn-link" title="Add" onclick="">
                                      <div class="title"><i class="fa fa-check fa-2x"></i></div>
                                    </button>
                                  </div>
                                </form>
                                <div class="col-sm-12" style="padding-top:6px">
                                  <div class="alert alert-info fresh-color">
                                    <strong>
                                        <span>Note:</span>
                                      </strong>
                                    <br>
                                    <span> 1, Please input the correct logic value, using comma if there have multiple value: (0,100 for example).</span>
                                    <br>
                                    <span> 2, Leave it empty for the NOT NULL check</span>
                                    <br>
                                    <span> 3, You can input RegEx pattern for it</span>
                                  </div>
                                </div>

                              </div>


                            </div>
                          </div>

                          <div class="panel fresh-color panel-success">
                            <div class="panel-heading">Business Condition OR List</div>
                            <div class="panel-body">
                              <table class="table table-striped sortable" cellspacing="0" width="100%">
                                <thead>
                                  <tr>
                                    <th>atomic name</th>
                                    <th>business condition logic </th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr>
                                    <td data-bind="text: 'atomic name'"></td>
                                    <td data-bind="text: 'IN (CHINA MOBILE, CHINA UNICOM, CHINA TELECOM)'"></td>
                                  </tr>
                                  <tr>
                                    <td data-bind="text: 'atomic name'"></td>
                                    <td data-bind="text: 'IN (BEIJING, SHANGHAI, SHENZHEN, GUANGZHOU)'"></td>
                                  </tr>
                                </tbody>
                              </table>
                            </div>
                          </div>
                          <div class="panel fresh-color panel-success">
                            <div class="panel-heading">Business Condition AND List</div>
                            <div class="panel-body">
                              <table class="table table-striped sortable" cellspacing="0" width="100%">
                                <thead>
                                  <tr>
                                    <th>atomic name</th>
                                    <th>business condition logic </th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr>
                                    <td data-bind="text: 'atomic name'"></td>
                                    <td data-bind="text: 'NOT NULL'"></td>
                                  </tr>
                                  <tr>
                                    <td data-bind="text: 'atomic name'"></td>
                                    <td data-bind="text: 'IN (0,10000)'"></td>
                                  </tr>
                                  <tr>
                                    <td data-bind="text: 'atomic name'"></td>
                                    <td data-bind="text: 'LIKE (scripter)'"></td>
                                  </tr>
                                  <tr>
                                    <td data-bind="text: 'atomic name'"></td>
                                    <td data-bind="text: 'RegEx (*(Beijing|GuangZhou)*)'"></td>
                                  </tr>
                                </tbody>
                              </table>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="card card-info">
                    <div class="card-header">
                      <div class="card-title">
                        <div class="title"><i class="fa fa-cogs"></i> Noise Editing </div>
                      </div>
                      <div class="pull-right card-action">
                        <div class="btn-group" role="group" aria-label="..." id="hideNoiseTimeDIV" style="display:none">
                          <button type="button" class="btn btn-link" title="隐藏" onclick="$('#NoiseContentDIV').css('display', 'none'),$('#displayNoiseTimeDIV').css('display', ''),$('#hideNoiseTimeDIV').css('display', 'none')">
                            <div class="title"><i class="fa fa-sort-up fa-2x"></i></div>
                          </button>
                        </div>
                        <div class="btn-group" role="group" aria-label="..." id="displayNoiseTimeDIV">
                          <button type="button" class="btn btn-link" title="显示" onclick="$('#NoiseContentDIV').css('display', ''),$('#hideNoiseTimeDIV').css('display', ''),$('#displayNoiseTimeDIV').css('display', 'none')">
                            <div class="title"><i class="fa fa-sort-down fa-2x"></i></div>
                          </button>
                        </div>
                      </div>
                    </div>
                    <div class="card profile" id="NoiseContentDIV" style="display:none">
                      <div class="card-body">
                        <div>
                          <div class="panel fresh-color panel-primary">
                            <div class="panel-heading">Noise Editing Panel</div>
                            <div class="panel-body">
                              <form class="form-inline">
                                <div class="col-sm-12">
                                  <label>Atomic:</label>
                                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                  <label> Atomic_Name </label>
                                </div>
                              </form>
                              <form class="form-inline">
                                <div class="col-sm-12">
                                  <label>Union Type:</label>
                                  &nbsp;&nbsp;&nbsp;
                                  <select class="form-control" style="width:180px" data-bind="options:businessPOJO().availableUnionTypes"></select>
                                  &nbsp;&nbsp;&nbsp;
                                  <label>Avaiable List:</label>
                                  &nbsp;
                                  <select class="form-control" style="width:180px" data-bind="options:businessPOJO().availableNoiseLists,value:businessPOJO().selectedNoiseList"></select>
                                  <button type="button" class="btn btn-link" title="Add" onclick="">
                                    <div class="title"><i class="fa fa-plus fa-2x"></i></div>
                                  </button>
                                </div>
                              </form>
                              <form class="form-inline">
                                <div class="col-sm-12">
                                </div>
                              </form>
                              <form class="form-inline">
                                <div class="col-sm-12">
                                  <label>Condition:</label>
                                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                  <select class="form-control" style="width:180px" data-bind="options:businessPOJO().availableNoiseOperations,value:businessPOJO().selectedNoiseOperation,optionsCaption: 'Choose...'"></select>
                                  &nbsp;&nbsp;&nbsp;
                                  <div class="form-group">
                                    <input type="text" class="form-control hour" placeholder="please input the valid value" style="width:280px">
                                  </div>
                                  <button type="button" class="btn btn-link" title="Add" onclick="">
                                    <div class="title"><i class="fa fa-check fa-2x"></i></div>
                                  </button>
                                </div>
                              </form>
                              <div class="col-sm-12" style="padding-top:6px">
                                <div class="alert alert-info fresh-color">
                                  <strong>
                                    <span>Note:</span>
                                  </strong>
                                  <br>
                                  <span> 1, Please input the correct logic value, using comma if there have multiple value: (0,100 for example).</span>
                                  <br>
                                  <span> 2, Leave it empty for the NOT NULL check</span>
                                  <br>
                                  <span> 3, You can input RegEx pattern for it</span>
                                </div>
                              </div>

                            </div>
                          </div>
                          <div class="panel fresh-color panel-success">
                            <div class="panel-heading">Noise AND List</div>
                            <div class="panel-body">
                              <table class="table table-striped sortable" cellspacing="0" width="100%">
                                <thead>
                                  <tr>
                                    <th>atomic name</th>
                                    <th>noise logic </th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr>
                                    <td data-bind="text: 'atomic name'"></td>
                                    <td data-bind="text: 'NOT NULL'"></td>
                                  </tr>
                                  <tr>
                                    <td data-bind="text: 'atomic name'"></td>
                                    <td data-bind="text: 'IN (0,10000)'"></td>
                                  </tr>
                                  <tr>
                                    <td data-bind="text: 'atomic name'"></td>
                                    <td data-bind="text: 'LIKE (scripter)'"></td>
                                  </tr>
                                  <tr>
                                    <td data-bind="text: 'atomic name'"></td>
                                    <td data-bind="text: 'RegEx (*(Beijing|GuangZhou)*)'"></td>
                                  </tr>
                                </tbody>
                              </table>
                            </div>
                          </div>
                          <div class="panel fresh-color panel-success">
                            <div class="panel-heading">Noise OR List</div>
                            <div class="panel-body">
                              <table class="table table-striped sortable" cellspacing="0" width="100%">
                                <thead>
                                  <tr>
                                    <th>atomic name</th>
                                    <th>noise logic </th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr>
                                    <td data-bind="text: 'atomic name'"></td>
                                    <td data-bind="text: 'GREATER THAN 0'"></td>
                                  </tr>
                                  <tr>
                                    <td data-bind="text: 'atomic name'"></td>
                                    <td data-bind="text: 'LESS THAN 10000'"></td>
                                  </tr>
                                </tbody>
                              </table>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div role="tabpanel" class="tab-pane fade" id="step3" aria-labelledby="profile-tab">
                  <div class="card card-info">
                    <div class="card-header">
                      <div class="card-title">
                        <div class="title"><i class="fa fa-cogs"></i> Analyzing Result Setting </div>
                      </div>
                      <div class="pull-right card-action">
                        <div class="btn-group" role="group" aria-label="..." id="hideAtomicsResultDIV">
                          <button type="button" class="btn btn-link" title="隐藏" onclick="$('#atomicsResultContentDIV').css('display', 'none'),$('#displayAtomicsResultDIV').css('display', ''),$('#hideAtomicsResultDIV').css('display', 'none')">
                            <div class="title"><i class="fa fa-sort-up fa-2x"></i></div>
                          </button>
                        </div>
                        <div class="btn-group" role="group" aria-label="..." id="displayAtomicsResultDIV" style="display:none">
                          <button type="button" class="btn btn-link" title="显示" onclick="$('#atomicsResultContentDIV').css('display', ''),$('#hideAtomicsResultDIV').css('display', ''),$('#displayAtomicsResultDIV').css('display', 'none')">
                            <div class="title"><i class="fa fa-sort-down fa-2x"></i></div>
                          </button>
                        </div>
                      </div>
                    </div>

                    <div class="card profile" id="atomicsResultContentDIV">
                      <div class="card-body">


                        <div class="panel fresh-color panel-info">
                          <div class="panel-heading">Metadata Atomics List</div>
                          <div class="panel-body">
                            <div class="row">
                              <div class="col-md-12" style="overflow: auto">
                                <form class="navbar-form navbar-right" role="search">
                                  <div class="form-group">
                                    <input data-bind="value:genericModalViewModel.businessPOJO().atomics.searchKeyword" class="form-control" placeholder="输入关键字" type="text">
                                  </div>
                                  <button data-bind="click:function(){genericModalViewModel.businessPOJO().atomics.buildView()}" type="submit" class="btn btn-info">搜索</button>
                                </form>
                                <table class="table table-striped sortable" cellspacing="0" width="100%">
                                  <thead>
                                    <tr>
                                      <th>table</th>
                                      <th>metadata </th>
                                      <th>action</th>
                                    </tr>
                                  </thead>
                                  <tbody data-bind="foreach: genericModalViewModel.businessPOJO().atomics.viewData">
                                    <tr>
                                      <td data-bind="text: data[1]"></td>
                                      <td data-bind="text: data[2]"></td>
                                      <td>
                                        <button type="button" class="btn btn-link" title="Calculation As Result" data-bind="click:(function(){})" style="margin:-6px -6px -6px -6px">
                                          <div class="title"><i class="fa fa-calculator fa-1x"></i></div>
                                        </button>
                                        <button type="button" class="btn btn-link" title="Display As Result" data-bind="click:(function(){})" style="margin:-6px -6px -6px -6px">
                                          <div class="title"><i class="fa fa-eye fa-1x"></i></div>
                                        </button>
                                        <button type="button" class="btn btn-link" title="Group As Result" data-bind="click:(function(){})" style="margin:-6px -6px -6px -6px">
                                          <div class="title"><i class="fa fa-cubes fa-1x"></i></div>
                                        </button>
                                        <button type="button" class="btn btn-link" title="Sort ASC" data-bind="click:(function(){})" style="margin:-6px -6px -6px -6px">
                                          <div class="title"><i class="fa fa-sort-alpha-asc fa-1x"></i></div>
                                        </button>
                                        <button type="button" class="btn btn-link" title="Sort DESC" data-bind="click:(function(){})" style="margin:-6px -6px -6px -6px">
                                          <div class="title"><i class="fa fa-sort-alpha-desc fa-1x"></i></div>
                                        </button>
                                      </td>
                                    </tr>
                                  </tbody>
                                </table>
                              </div>
                            </div>
                            <div id="pagingDIV">
                              <nav>
                                <ul class="pager">
                                  <span class="pull-left">Total Size:
                                        <span data-bind="text:genericModalViewModel.businessPOJO().atomics.totalCounts()"></span>
                                  </span>
                                  <span class="pull-right">
                                        <select class="form-control" style="width:88px" data-bind="options:genericModalViewModel.businessPOJO().atomics.pagingSizeArray,value:genericModalViewModel.businessPOJO().atomics.pageMaxSize"></select>
                                      </span>
                                  <li><a data-bind="click:function(){genericModalViewModel.businessPOJO().atomics.toPage(1)}" href="#">首页</a></li>
                                  <li><a data-bind="click:function(){genericModalViewModel.businessPOJO().atomics.toPage(genericModalViewModel.businessPOJO().atomics.currentPageNumber()-1)}" href="#">前翻</a></li>
                                  <li>
                                    <input data-bind="value:genericModalViewModel.businessPOJO().atomics.currentPageNumber" style="width:38px" ;type="text" class="text-center">
                                  </li>
                                  <li><a data-bind="click:function(){genericModalViewModel.businessPOJO().atomics.toPage(genericModalViewModel.businessPOJO().atomics.currentPageNumber()+1)}" href="#">后翻</a></li>
                                  <li><a data-bind="click:function(){genericModalViewModel.businessPOJO().atomics.toPage(genericModalViewModel.businessPOJO().atomics.totalPage())}" href="#">末页</a></li>
                                </ul>
                              </nav>
                            </div>
                          </div>
                        </div>

                      </div>
                    </div>
                  </div>

                  <div class="card card-info">
                    <div class="card-header">
                      <div class="card-title">
                        <div class="title"><i class="fa fa-cogs"></i> Calculation As Result </div>
                      </div>
                      <div class="pull-right card-action">
                        <div class="btn-group" role="group" aria-label="..." id="hideCalculationAsDisplayDIV" style="display:none">
                          <button type="button" class="btn btn-link" title="隐藏" onclick="$('#CalculationAsDisplayContentDIV').css('display', 'none'),$('#displayCalculationAsDisplayDIV').css('display', ''),$('#hideCalculationAsDisplayDIV').css('display', 'none')">
                            <div class="title"><i class="fa fa-sort-up fa-2x"></i></div>
                          </button>
                        </div>
                        <div class="btn-group" role="group" aria-label="..." id="displayCalculationAsDisplayDIV">
                          <button type="button" class="btn btn-link" title="显示" onclick="$('#CalculationAsDisplayContentDIV').css('display', ''),$('#hideCalculationAsDisplayDIV').css('display', ''),$('#displayCalculationAsDisplayDIV').css('display', 'none')">
                            <div class="title"><i class="fa fa-sort-down fa-2x"></i></div>
                          </button>
                        </div>
                      </div>
                    </div>
                    <div class="card profile" id="CalculationAsDisplayContentDIV" style="display:none">
                      <div class="card-body">

                        <div>
                          <div class="panel fresh-color panel-primary">
                            <div class="panel-heading">Calculation As Display Panel</div>
                            <div class="panel-body">

                              <form class="form-inline">
                                <div class="col-sm-12">
                                  <label>Atomic:</label>
                                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                  <label> Atomic_Name </label>
                                  <button type="button" class="btn btn-link" title="switch" onclick="switch_div_display('advancedCalculationDIV');switch_div_display('normalCalculationDIV')">
                                    <div class="title"><i class="fa fa-refresh fa-2x"></i></div>
                                  </button>
                                </div>
                              </form>
                              <br>
                              <div id="advancedCalculationDIV">
                                <div class="sub-title">Advanced Calculation As Display
                                  <span class="description">( with <code>metadata algorithm</code> settings )</span>
                                  <button type="button" class="btn btn-link" title="Add" onclick="">
                                    <div class="title"><i class="fa fa-check fa-2x"></i></div>
                                  </button>
                                </div>
                                <div>
                                  <div class="alert fresh-color alert-warning" role="alert">
                                    <strong>Warning!</strong> Switch to normal Calculation As Display if this atomic did not configurate the algorithm value.
                                  </div>
                                  <div class="row">
                                    <div class="col-md-12" style="overflow: auto">
                                      <form class="navbar-form navbar-right" role="search">
                                        <div class="form-group">
                                          <input data-bind="value:genericModalViewModel.businessPOJO().algorithms.searchKeyword" class="form-control" placeholder="输入关键字" type="text">
                                        </div>
                                        <button data-bind="click:function(){genericModalViewModel.businessPOJO().algorithms.buildView()}" type="submit" class="btn btn-info">搜索</button>
                                      </form>
                                      <table class="table table-striped sortable" cellspacing="0" width="100%">
                                        <thead>
                                          <tr>
                                            <th>
                                              <input type="checkbox" data-bind="checked:genericModalViewModel.businessPOJO().algorithms.isSelectCurrentPage" />Current &nbsp;
                                              <input type="checkbox" data-bind="checked:genericModalViewModel.businessPOJO().algorithms.isSelectAllPage" />ALL
                                            </th>
                                            <th>Display Name</th>
                                            <th>Calculation Logic</th>
                                          </tr>
                                        </thead>
                                        <tbody data-bind="foreach: genericModalViewModel.businessPOJO().algorithms.viewData">
                                          <tr>
                                            <td>
                                              <input type="checkbox" data-bind="checked: isChecked" />
                                            </td>
                                            <td data-bind="text: data[1]"></td>
                                            <td data-bind="text: data[2]"></td>
                                          </tr>
                                        </tbody>
                                      </table>
                                    </div>
                                  </div>
                                  <div id="pagingDIV">
                                    <nav>
                                      <ul class="pager">
                                        <span class="pull-left">Total Size:
                                              <span data-bind="text:genericModalViewModel.businessPOJO().algorithms.totalCounts()"></span>
                                        </span>
                                        <span class="pull-right">
                                              <select class="form-control" style="width:88px" data-bind="options:genericModalViewModel.businessPOJO().algorithms.pagingSizeArray,value:genericModalViewModel.businessPOJO().algorithms.pageMaxSize"></select>
                                            </span>
                                        <li><a data-bind="click:function(){genericModalViewModel.businessPOJO().algorithms.toPage(1)}" href="#">首页</a></li>
                                        <li><a data-bind="click:function(){genericModalViewModel.businessPOJO().algorithms.toPage(genericModalViewModel.businessPOJO().algorithms.currentPageNumber()-1)}" href="#">前翻</a></li>
                                        <li>
                                          <input data-bind="value:genericModalViewModel.businessPOJO().algorithms.currentPageNumber" style="width:38px" ;type="text" class="text-center">
                                        </li>
                                        <li><a data-bind="click:function(){genericModalViewModel.businessPOJO().algorithms.toPage(genericModalViewModel.businessPOJO().algorithms.currentPageNumber()+1)}" href="#">后翻</a></li>
                                        <li><a data-bind="click:function(){genericModalViewModel.businessPOJO().algorithms.toPage(genericModalViewModel.businessPOJO().algorithms.totalPage())}" href="#">末页</a></li>
                                      </ul>
                                    </nav>
                                  </div>
                                </div>
                              </div>
                              <div id="normalCalculationDIV" style="display:none">
                                <div class="sub-title">Normal Calculation As Display</div>
                                <form class="form-inline">
                                  <div class="col-sm-12">
                                    <label>Union Type:</label>
                                    &nbsp;&nbsp;&nbsp;
                                    <select class="form-control" style="width:180px" data-bind="options:businessPOJO().availableUnionTypes"></select>
                                    &nbsp;&nbsp;&nbsp;
                                    <label>Avaiable List:</label>
                                    &nbsp;
                                    <select class="form-control" style="width:180px" data-bind="options:businessPOJO().availableNoiseLists,value:businessPOJO().selectedNoiseList"></select>
                                    <button type="button" class="btn btn-link" title="Add" onclick="">
                                      <div class="title"><i class="fa fa-plus fa-2x"></i></div>
                                    </button>
                                  </div>
                                </form>
                                <form class="form-inline">
                                  <div class="col-sm-12">
                                  </div>
                                </form>
                                <form class="form-inline">
                                  <div class="col-sm-12">
                                    <label>Condition:</label>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                    <select class="form-control" style="width:180px" data-bind="options:businessPOJO().availableNoiseOperations,value:businessPOJO().selectedNoiseOperation,optionsCaption: 'Choose...'"></select>
                                    &nbsp;&nbsp;&nbsp;
                                    <div class="form-group">
                                      <input type="text" class="form-control hour" placeholder="please input the valid value" style="width:280px">
                                    </div>
                                    <button type="button" class="btn btn-link" title="Add" onclick="">
                                      <div class="title"><i class="fa fa-check fa-2x"></i></div>
                                    </button>
                                  </div>
                                </form>
                                <div class="col-sm-12" style="padding-top:6px">
                                  <div class="alert alert-info fresh-color">
                                    <strong>
                                        <span>Note:</span>
                                      </strong>
                                    <br>
                                    <span> 1, Please input the correct logic value, using comma if there have multiple value: (0,100 for example).</span>
                                    <br>
                                    <span> 2, Leave it empty for the NOT NULL check</span>
                                    <br>
                                    <span> 3, You can input RegEx pattern for it</span>
                                  </div>
                                </div>

                              </div>


                            </div>
                          </div>
                          <div class="panel fresh-color panel-info">
                            <div class="panel-heading">Calculation As Display List</div>
                            <div class="panel-body">
                              <table class="table table-striped sortable" cellspacing="0" width="100%">
                                <thead>
                                  <tr>
                                    <th>basic atomic name</th>
                                    <th>display as</th>
                                    <th>calculation logic </th>
                                    <th>action </th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr>
                                    <td data-bind="text: 'up_flow'"></td>
                                    <td data-bind="text: '总流量'"></td>
                                    <td data-bind="text: 'round(sum(up_flow)+sum(down_flow))'"></td>
                                    <td>
                                      <button type="button" class="btn btn-link" title="remove" data-bind="click:(function(){})" style="margin:-6px -6px -6px -6px">
                                        <div class="title"><i class="fa fa-eraser fa-1x"></i></div>
                                      </button>
                                    </td>
                                  </tr>
                                  <tr>
                                    <td data-bind="text: 'down_flow'"></td>
                                    <td data-bind="text: '平均下行速率'"></td>
                                    <td data-bind="text: 'avg(sum(down_flow)/(60*60))'"></td>
                                    <td>
                                      <button type="button" class="btn btn-link" title="remove" data-bind="click:(function(){})" style="margin:-6px -6px -6px -6px">
                                        <div class="title"><i class="fa fa-eraser fa-1x"></i></div>
                                      </button>
                                    </td>
                                  </tr>
                                  <tr>
                                    <td data-bind="text: 'user'"></td>
                                    <td data-bind="text: '去重用户数'"></td>
                                    <td data-bind="text: 'distinct count(user)'"></td>
                                    <td>
                                      <button type="button" class="btn btn-link" title="remove" data-bind="click:(function(){})" style="margin:-6px -6px -6px -6px">
                                        <div class="title"><i class="fa fa-eraser fa-1x"></i></div>
                                      </button>
                                    </td>
                                  </tr>
                                </tbody>
                              </table>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="card card-info">
                    <div class="card-header">
                      <div class="card-title">
                        <div class="title"><i class="fa fa-cogs"></i> Display As Result </div>
                      </div>
                      <div class="pull-right card-action">
                        <div class="btn-group" role="group" aria-label="..." id="hideDisplayAsResultDIV" style="display:none">
                          <button type="button" class="btn btn-link" title="隐藏" onclick="$('#DisplayAsResultContentDIV').css('display', 'none'),$('#displayDisplayAsResultDIV').css('display', ''),$('#hideDisplayAsResultDIV').css('display', 'none')">
                            <div class="title"><i class="fa fa-sort-up fa-2x"></i></div>
                          </button>
                        </div>
                        <div class="btn-group" role="group" aria-label="..." id="displayDisplayAsResultDIV">
                          <button type="button" class="btn btn-link" title="显示" onclick="$('#DisplayAsResultContentDIV').css('display', ''),$('#hideDisplayAsResultDIV').css('display', ''),$('#displayDisplayAsResultDIV').css('display', 'none')">
                            <div class="title"><i class="fa fa-sort-down fa-2x"></i></div>
                          </button>
                        </div>
                      </div>
                    </div>
                    <div class="card profile" id="DisplayAsResultContentDIV" style="display:none">
                      <div class="card-body">
                        <div>
                          <div class="panel fresh-color panel-primary">
                            <div class="panel-heading">Display Editing Panel</div>
                            <div class="panel-body">
                              <form class="form-inline">
                                <div class="col-sm-12">
                                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                  <label>Limit:</label>
                                  &nbsp;&nbsp;&nbsp;
                                  <div class="form-group">
                                    <input type="text" class="form-control"  placeholder="100" style="width:80px">
                                  </div>
                                  &nbsp;&nbsp;
                                  <span class="description">( <code>leave it empty if no limits</code>)</span>
                                </div>
                              </form>

                            </div>
                          </div>
                          <div class="panel fresh-color panel-success">
                            <div class="panel-heading">Display As Result List</div>
                            <div class="panel-body">
                              <table class="table table-striped sortable" cellspacing="0" width="100%">
                                <thead>
                                  <tr>
                                    <th>atomic name</th>
                                    <th>action</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr>
                                    <td data-bind="text: 'atomic name'"></td>
                                    <td>
                                      <button type="button" class="btn btn-link" title="remove" data-bind="click:(function(){})" style="margin:-6px -6px -6px -6px">
                                        <div class="title"><i class="fa fa-eraser fa-1x"></i></div>
                                      </button>
                                    </td>
                                  </tr>
                                  <tr>
                                    <td data-bind="text: 'atomic name'"></td>
                                    <td>
                                      <button type="button" class="btn btn-link" title="remove" data-bind="click:(function(){})" style="margin:-6px -6px -6px -6px">
                                        <div class="title"><i class="fa fa-eraser fa-1x"></i></div>
                                      </button>
                                    </td>
                                  </tr>
                                  <tr>
                                    <td data-bind="text: 'atomic name'"></td>
                                    <td>
                                      <button type="button" class="btn btn-link" title="remove" data-bind="click:(function(){})" style="margin:-6px -6px -6px -6px">
                                        <div class="title"><i class="fa fa-eraser fa-1x"></i></div>
                                      </button>
                                    </td>
                                  </tr>
                                </tbody>
                              </table>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="card card-info">
                    <div class="card-header">
                      <div class="card-title">
                        <div class="title"><i class="fa fa-cogs"></i> Group By </div>
                      </div>
                      <div class="pull-right card-action">
                        <div class="btn-group" role="group" aria-label="..." id="hideGroupResultDIV" style="display:none">
                          <button type="button" class="btn btn-link" title="隐藏" onclick="$('#GroupResultContentDIV').css('display', 'none'),$('#displayGroupResultDIV').css('display', ''),$('#hideGroupResultDIV').css('display', 'none')">
                            <div class="title"><i class="fa fa-sort-up fa-2x"></i></div>
                          </button>
                        </div>
                        <div class="btn-group" role="group" aria-label="..." id="displayGroupResultDIV">
                          <button type="button" class="btn btn-link" title="显示" onclick="$('#GroupResultContentDIV').css('display', ''),$('#hideGroupResultDIV').css('display', ''),$('#displayGroupResultDIV').css('display', 'none')">
                            <div class="title"><i class="fa fa-sort-down fa-2x"></i></div>
                          </button>
                        </div>
                      </div>
                    </div>
                    <div class="card profile" id="GroupResultContentDIV" style="display:none">
                      <div class="card-body">
                        <div>
                          <div class="panel fresh-color panel-success">
                            <div class="panel-heading">Group By List</div>
                            <div class="panel-body">
                              <table class="table table-striped sortable" cellspacing="0" width="100%">
                                <thead>
                                  <tr>
                                    <th>atomic name</th>
                                    <th>action</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr>
                                    <td data-bind="text: 'atomic name'"></td>
                                    <td>
                                      <button type="button" class="btn btn-link" title="remove" data-bind="click:(function(){})" style="margin:-6px -6px -6px -6px">
                                        <div class="title"><i class="fa fa-eraser fa-1x"></i></div>
                                      </button>
                                    </td>
                                  </tr>
                                  <tr>
                                    <td data-bind="text: 'atomic name'"></td>
                                    <td>
                                      <button type="button" class="btn btn-link" title="remove" data-bind="click:(function(){})" style="margin:-6px -6px -6px -6px">
                                        <div class="title"><i class="fa fa-eraser fa-1x"></i></div>
                                      </button>
                                    </td>
                                  </tr>
                                </tbody>
                              </table>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="card card-info">
                    <div class="card-header">
                      <div class="card-title">
                        <div class="title"><i class="fa fa-cogs"></i> Order By Result </div>
                      </div>
                      <div class="pull-right card-action">
                        <div class="btn-group" role="group" aria-label="..." id="hideOrderByResultDIV" style="display:none">
                          <button type="button" class="btn btn-link" title="隐藏" onclick="$('#OrderByResultContentDIV').css('display', 'none'),$('#displayOrderByResultDIV').css('display', ''),$('#hideOrderByResultDIV').css('display', 'none')">
                            <div class="title"><i class="fa fa-sort-up fa-2x"></i></div>
                          </button>
                        </div>
                        <div class="btn-group" role="group" aria-label="..." id="displayOrderByResultDIV">
                          <button type="button" class="btn btn-link" title="显示" onclick="$('#OrderByResultContentDIV').css('display', ''),$('#hideOrderByResultDIV').css('display', ''),$('#displayOrderByResultDIV').css('display', 'none')">
                            <div class="title"><i class="fa fa-sort-down fa-2x"></i></div>
                          </button>
                        </div>
                      </div>
                    </div>
                    <div class="card profile" id="OrderByResultContentDIV" style="display:none">
                      <div class="card-body">
                        <div>
                          <div class="panel fresh-color panel-success">
                            <div class="panel-heading">Order By List</div>
                            <div class="panel-body">
                              <table class="table table-striped sortable" cellspacing="0" width="100%">
                                <thead>
                                  <tr>
                                    <th>atomic name</th>
                                    <th>order</th>
                                    <th>action</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr>
                                    <td data-bind="text: 'atomic name'"></td>
                                    <td data-bind="text: 'ascending'"></td>
                                    <td>
                                      <button type="button" class="btn btn-link" title="remove" data-bind="click:(function(){})" style="margin:-6px -6px -6px -6px">
                                        <div class="title"><i class="fa fa-eraser fa-1x"></i></div>
                                      </button>
                                    </td>
                                  </tr>
                                  <tr>
                                    <td data-bind="text: 'atomic name'"></td>
                                    <td data-bind="text: 'descending'"></td>
                                    <td>
                                      <button type="button" class="btn btn-link" title="remove" data-bind="click:(function(){})" style="margin:-6px -6px -6px -6px">
                                        <div class="title"><i class="fa fa-eraser fa-1x"></i></div>
                                      </button>
                                    </td>
                                  </tr>
                                </tbody>
                              </table>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

              </div>
            </div>










          </div>
          <!-- *******YOUR SHOULD CODING IN HERE:[END]*******-->
        </div>
      </div>
    </div>
  </div>
  <!--CONTENT DIV END-->
</div>

<script>
  // Initialize the View Model
  // Clean the paging binding nodes
  // Binding the view Model
  var genericModalViewModel = new GenericModalViewModel();
  ko.cleanNode($('#genericModalDiv')[0]);
  ko.applyBindings(genericModalViewModel, document.getElementById('genericModalDiv'));
</script>

<script>
  // Setup the business model with view model
  (function initialize() {
    // *******YOUR SHOULD CODING IN HERE:*******
    function BusinessPOJO() {
      var self = this;
      self.availableMetadatas = ko.observableArray([]);
      self.selectedMetadata = ko.observable();
      self.availableAtomics = ko.observableArray([]);
      self.tables = new ListViewModel();
      self.atomics = new ListViewModel();
      self.algorithms = new ListViewModel();


      self.availableNoiseOperations = ko.observableArray(['NOT NULL','EQUAL', 'GREATER THAN', 'LESS THAN', 'IN', 'LIKE','NOT EQUAL','NULL', 'RegEx']);
      self.selectedNoiseOperation = ko.observable();

      self.availableNoiseLists = ko.observableArray(['AND List', 'OR List', 'OR List 1', 'OR List 2']);
      self.selectedNoiseList = ko.observable();

      self.availableUnionTypes = ko.observableArray(['AND', 'OR']);



      self.calculationTypes = ko.observableArray(['Mathematical Function','Aggregation Function', 'GREATER THAN', 'LESS THAN', 'IN', 'LIKE','NOT EQUAL','NULL', 'RegEx']);
      self.selectedCalculationType = ko.observable();

    }
    var businessPOJO = new BusinessPOJO();
    genericModalViewModel.businessPOJO(businessPOJO);
  })();

  function execute() {
    // validation failed
    // show validation error message in the warning DIV...
    if (!genericModalViewModel.validation(businessValidation)) {
      return;
    } else {
      // validation correct
      // do your business...
      runService();
    }
  }

  // *******YOUR SHOULD CODING IN HERE:*******
  var businessValidation = function() {
    var errorMessages = [];
    //validate logic...

    return errorMessages;
  }

  // *******YOUR SHOULD CODING IN HERE:*******
  var runService = function() {

  }
</script>

<script>
  var retrieveData_mock = function() {
    $.ajax({
      url: $.getRootPath() + "/assets/self-owned/data/mock_metadata_table_list.json",
      type: 'GET',
      dataType: 'json',
      success: function(json) {
        var serverData = json;
        var tableData = DataTransferPOJO.serverJsonData2TableData(serverData);
        genericModalViewModel.businessPOJO().tables.pageMaxSize(20);
        genericModalViewModel.businessPOJO().tables.buildData(tableData.result);
        genericModalViewModel.businessPOJO().tables.columnNames(tableData.header);

        genericModalViewModel.businessPOJO().tables.buildView();
      },
      error: function(xhr, status) {
        console.log('Sorry, there was a problem on SERVER_REQUEST_ACTION process!');
      },
      complete: function(xhr, status) {}
    });
    $.ajax({
      url: $.getRootPath() + "/assets/self-owned/data/mock_metadata_algorithm_list.json",
      type: 'GET',
      dataType: 'json',
      success: function(json) {
        var serverData = json;
        var tableData = DataTransferPOJO.serverJsonData2TableData(serverData);
        genericModalViewModel.businessPOJO().algorithms.pageMaxSize(5);
        genericModalViewModel.businessPOJO().algorithms.buildData(tableData.result);
        genericModalViewModel.businessPOJO().algorithms.columnNames(tableData.header);
        genericModalViewModel.businessPOJO().algorithms.buildView();
      },
      error: function(xhr, status) {
        console.log('Sorry, there was a problem on SERVER_REQUEST_ACTION process!');
      },
      complete: function(xhr, status) {}
    });

    $.ajax({
      url: $.getRootPath() + "/assets/self-owned/data/mock_metadata_atomic_list.json",
      type: 'GET',
      dataType: 'json',
      success: function(json) {
        var serverData = json;
        var tableData = DataTransferPOJO.serverJsonData2TableData(serverData);
        genericModalViewModel.businessPOJO().atomics.pageMaxSize(5);
        genericModalViewModel.businessPOJO().atomics.buildData(tableData.result);
        genericModalViewModel.businessPOJO().atomics.columnNames(tableData.header);
        genericModalViewModel.businessPOJO().atomics.buildView();
      },
      error: function(xhr, status) {
        console.log('Sorry, there was a problem on SERVER_REQUEST_ACTION process!');
      },
      complete: function(xhr, status) {}
    });
  }
  retrieveData_mock();
</script>
